.\" DO NOT MODIFY THIS FILE!  It was generated by help2man 1.49.2.
.TH LUKSIMG "1" "August 2022" "luksimg (1.2.1)" "User Commands"
.SH NAME
luksimg \-  LUKS encrypted disk image utility (1.2.1)
.SH SYNOPSIS
.B luksimg
[ \fI\,new \/\fR[\fI\,size\/\fR] \fI\,| \/\fR[\fI\,-j|-p\/\fR] [\fI\,mount|backup|umount|one\/\fR]...]
.SH DESCRIPTION
"luksimg" helps to create and update LUKS encrypted disk image.
.PP
.SH OPTION
.PP
\fB\-j\fR      use journald to record log (useful for systemd timer service)
.PP
\fB\-p\fR      ask passphrase to unlock LUKS encryption (Uunless this is set, GNOME
secret\-tool is used to obtain passphrase)
.PP
.SH COMMAND
.PP
Multiple commands may be specified to execute them in sequence.
.PP
new [size]:
.IP
make a new disk image \fI\,/rsync/secret.img\/\fP formatted as ext4 filesystem
on LUKS encrypted volume. The size can be optionally specified, e.g.
as '32G'
.PP
mount:
.IP
decrypt disk image \fI\,/rsync/secret.img\/\fP to create a device\-mapper device
\fI\,/dev/device\-mapper/secret\/\fP and mount it to \fI\,~/secret\/\fP
.PP
backup:
.IP
backup to \fI\,~/secret/relative_path\/\fP for files and directories listed in
~/.secretrc as relative path; or to \fI\,~/secret/absolute_path\/\fP for ones
listed in it as absolute path.
.PP
umount:
.IP
umount disk image and disable decrypted device\-mapper device
.PP
one:
.IP
Do mount \-> backup \-> umount in one action
.PP
These commands may be shortened if they aren't ambiguous.
.PP
.SH ENVIRONMENT
.SS "DISK_IMG_FILE:"
.IP
Set this to the file name (w/o extension ".img") of the disk image.
This is used for the associated backup configuration file name, device
mapper name and mount point name. (default: secret)
.SS "DISK_IMG_DIR:"
.IP
Set this to the directory name of the disk image. (default: rsync)
.PP
See \fI\,/usr/share/doc/bss/examples/README.md\/\fP or
.IP
https://github.com/osamuaoki/bss/tree/main/examples
.SH AUTHOR
Written by Osamu Aoki.
.SH COPYRIGHT
Copyright \(co 2021\-2022 Osamu Aoki <osamu@debian.org>
.PP
License GPLv2+: GNU GPL version 2 or later <https://gnu.org/licenses/gpl\-2.0.html>.
.PP
This is free software: you are free to change and redistribute it.  There is NO
WARRANTY, to the extent permitted by law.
.SH "SEE ALSO"
See <https://github.com/osamuaoki/bss> for the latest information.
